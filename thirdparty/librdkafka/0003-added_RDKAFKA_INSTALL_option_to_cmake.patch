Subject: [PATCH] added RDKAFKA_INSTALL option to cmake
---
Index: CMakeLists.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/CMakeLists.txt b/CMakeLists.txt
--- a/CMakeLists.txt	(revision 69b1865efdc0118cd017760d038d34e52fb3f0d0)
+++ b/CMakeLists.txt	(revision 2a5012f617d7645dc5049ccd00c8bdb30c4e5530)
@@ -16,6 +16,8 @@
 
 option(ENABLE_DEVEL "Enable development asserts, checks, etc" OFF)
 option(ENABLE_REFCNT_DEBUG "Enable refcnt debugging" OFF)
+option(RDKAFKA_INSTALL "Enable installation" ON)
+
 set(TRYCOMPILE_SRC_DIR "${CMAKE_CURRENT_LIST_DIR}/packaging/cmake/try_compile")
 set(BUILT_WITH "CMAKE")
 
@@ -262,22 +264,23 @@
     COMPATIBILITY AnyNewerVersion
 )
 
-install(
-    FILES "${project_config}" "${project_version}" "packaging/cmake/Modules/FindLZ4.cmake"
-    DESTINATION "${config_install_dir}"
-)
+if(RDKAFKA_INSTALL)
+  install(
+      FILES "${project_config}" "${project_version}" "packaging/cmake/Modules/FindLZ4.cmake"
+      DESTINATION "${config_install_dir}"
+  )
 
-install(
-    EXPORT "${targets_export_name}"
-    NAMESPACE "${namespace}"
-    DESTINATION "${config_install_dir}"
-)
+  install(
+      EXPORT "${targets_export_name}"
+      NAMESPACE "${namespace}"
+      DESTINATION "${config_install_dir}"
+  )
 
-install(
-    FILES LICENSES.txt
-    DESTINATION "share/licenses/librdkafka"
-)
-
+  install(
+      FILES LICENSES.txt
+      DESTINATION "share/licenses/librdkafka"
+  )
+endif()
 add_subdirectory(src)
 add_subdirectory(src-cpp)
 
